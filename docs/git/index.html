<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="initial-scale=1.0, width=device-width">
		<link rel="stylesheet" href="../../css/style.css">
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,700|Old+Standard+TT&display=swap&subset=cyrillic" 
			rel="stylesheet">
		<title>Документация по GIT</title>
	</head>

	<body>
		<div id="menu"></div>
		<div class="container-border">
			<a href="../../index.html">На главную</a>
		</div>
		
		<nav>
			<div class="container-border">
					<h3>Полезные ссылки</h3>
				<ul>
					<li><a href="https://git-scm.com/book/ru/v2" target="_blank" rel="noopener noreferrer">Книга</a></li>
				</ul>
			</div>

			<div class="container-border">
				<ul>
					<li><a href="#install">Установка Git</a></li>
					<li><a href="#create_and_setting_repo">Создание и настройка локального репозитория</a></li>
					<li><a href="#add_file_to_repo">Добавление файлов в локальный репозиторий</a></li>
					<li><a href="#add_version_commit">Создание версии проекта</a></li>
					<li><a href="#create_repo_github">Создание репозитория на GitHub</a></li>
					<li><a href="#rollback">Как откатить коммиты на GitHub</a></li>
				</ul>
			</div>
		</nav>

		<div id="install" class="container-border">
			<h1>Установка Git</h1>
			<ol class="command">
				<li>Linux:
					<p>Откройте терминал и перейдите в желаемую директорию для установки.</p>
					<p>Введите: sudo apt-get install git</p>
				</li>
				<li>MacOS:
					<p>Воспользуемся homebrew.</p>
					<p>Вводим в терминале: brew install git</p>
				</li>
				<li>Windows (для MacOS и Linux альтернатива):
						<p>Перейдите по ссылке: 
							<a href="http://git-scm.com/downloads" target="_blank">http://git-scm.com/downloads</a></p>
						<p>Выберите нужный пакет и следуйте дальнейшим инструкциям.</p>
				</li>
			</ol>
			<p>Далее работа с Git будет выполняться в терминале Bash, который станет доступен на любой ОС после установки Git. 
					Так вы будете лучше понимать устройство работы с системами контроля версий и возможности графического 
					клиента ограничены по сравнению с консольным.</p>
			<a href="#menu">К оглавлению</a>
		</div>

		<div class="container-border">
			<h1 id="create_and_setting_repo">Создание и настройка локального репозитория</h1>
			<ol class="command">
				<li>Запускаем Bash. Переходим в папку с проектом.</li>
				<li>Настраиваем имя пользователя и адрес элктронной почты:
					<p>config --global user.name "Name" git config --global user.email email@mail.ru</p>
					Отступление:
					<p>tree – команда для просмотра древовидной структуры файловой системы, в которой мы находимся.</p>
					<p>find – удаление файлов со специфичным суффиксом.</p>
				</li>
				<li>Создадим локальный репозиторий в папке с проектом:
						<p>git init</p><p>Командная строка выведет сообщение: Initialized empty Git repository in Users/Public/Project/</p>
				</li>
			</ol>
			<a href="#menu">К оглавлению</a>
		</div>

		<div class="container-border">
			<h1 id="add_file_to_repo">Добавление файлов в локальный репозиторий</h1>
			<ol class="command">
				<li>Добавить файл в систему управления версиями:
					<p>git add file.xxx</p>
					Добавить все файлы в директории:
					<p>git add -A</p>
					<p>git add --all</p>
				</li>
				<li>Проверить текущее состояние:
					<p>git status</p>
				</li>
				<li>Отменить добавление файла:
					<p>git rm --cached file.xxx</p>
				</li>
			</ol>
			<a href="#menu">К оглавлению</a>
		</div>

		<div class="container-border">
			<h1 id="add_version_commit">Создание версии проекта</h1>
			<ol class="command">
				<li>После добавления нужного файла в staging area (область подготовленных файлов) можно создать версию проекта:
					<p>git commit -m "comment"</p>
					<p>Ключ –m означает создание пользователем описания этого коммита</p>
				</li>Для удаления всеx файлов в папке, не относящихся к проекту, и не сохраненных в репозитории, можно воспользоваться командой:
					<p>git clean -df</p>
			</ol>
			<a href="#menu">К оглавлению</a>
		</div>

		<div class="container-border">
			<h1 id="create_repo_github">Создание репозитория на GitHub</h1>
			Все действия до этого раздела производились над локальным репозиторием, который находится у вас на компьютере.<br> 
			Если мы хотим сохранить проект в Интернете, и предоставить к нему доступ, то создадим репозиторий на Github.

			<ol class="command">
				<li>Регистрируемся на сайте: github.com под именем nikname (может быть любым другим).</li>
				<li>Нажимаем кнопочку "+" и вводим название репозитория.</li>
				<li>Выбираем тип Public (Private доступен только в платной версии). Нажимем Create.</li>
				В результате создан репозиторий в Github (на экране видим инструкцию, по соедининению локального репозитория со вновь созданным).
				<li>Добавляем удаленный репозиторий (по протоколу SSH) под именем origin (желательно использовать его, но можно любое другое, 
					главное – не master – оно используется в момент релиза версии):</li>
					<p>git remote add origin git@github.com:nikname/project.git</p>
					Результат можно увидеть с помощью команды:
					<p>git remote -v</p>
					Если все правильно сделано, то увидим:
					<p>origin git@github.com:nikname/project.git (fetch)</p>
					<p>origin git@github.com:nikname/project.git (push)</p>
					Для отмены регистрации удаленного репозитария, введите:
					<p>git remote rm origin</p>
					Этой командой вносятся все изменения, которые были сделаны в локальном репозитории на Github:
					<p>git push -u github master</p>
					<p>-u ключ установления связи между удаленным репозиторием github и веткой master.</p>
					Все дальнейшие изменения переносятся на удаленный репозиторий следующей командой: 
					<p>git push</p>
			</ol>

			<a href="#menu">К оглавлению</a>
		</div>

		<div class="container-border">
			<h1 id="rollback">Как откатить коммиты на GitHub</h1>
			<ol class="command">
				<li>Выбираем нужный бранч(ветку), у меня она master
					<p>git checkout master</p>
				</li>
				<li>Делаем откат изменений в репозитории для примера на два коммита назад
					<p>git reset --hard HEAD~2</p>
				</li>
					Можно сделать до какого то определенного коммита по хешу. 
					Хеш можно взять в вебинтерфейсе гитхаба.
					<p>git reset --hard HEAD hash</p>
				<li>Далее делаем принудительный коммит в основной репо на гитхабе
					<p>git push -f origin master</p>
					<p>без -f будет ругаться что у вас версия младше чем в гитхабе и вам надо сделать pull</p>
				</li>
			</ol>
			<a href="#menu">К оглавлению</a>
		</div>

	</body>
</html>